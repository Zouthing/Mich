# Preparations

Board draws approximately 24mA from +3V3 when power is applied. This seems a bit high, but may be expected if not all parts are capable of low-power mode, or aren't configured for low power at power-on. I need to review the schematic and datasheets and see what can be done.

When I put my finger on the MAX2837, current consumption goes up. This suggests there may be floating nodes in that region of the circuit.

# Si5351 I2C

Attached crystal is 25MHz.

### Connections

* Bus Pirate GND to P7 pin 1
* Bus Pirate +3V3 to P7 pin 2 (through multimeter set to 200mA range)
* Bus Pirate CLK to P7 pin 3
* Bus Pirate MOSI to P7 pin 5

### Bus Pirate

    # set mode
    m
    # I2C mode
    4
    # ~100kHz speed
    3
    # power supplies ON
    W
    # macro 1: 7-bit address search
    (1)
    Searching I2C address space. Found devices at:
    0xC0(0x60 W) 0xC1(0x60 R) 

I2C A0 address configuration pin (not available on QFN20 package) is apparently forced to "0".

Reading registers:

    # Read register 0
    I2C>[0xc0 0[0xc1 r]]
    ...
    # Register 0: SYS_INIT=0, LOL_B=0, LOL_A=0, LOS=1, REVID=0
    READ: 0x10
    ...
    # Read 16 registers, starting with register 0
    I2C>[0xc0 0[0xc1 r:16]]
    ...
    READ: 0x10  ACK 0xF8  ACK 0x03  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x8F  ACK 0x01  ACK
          0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x90  ACK 0x00
    ...
    # Read 16 registers, starting with register 16
    I2C>[0xc0 16[0xc1 r:16]]
    ...
    READ: 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK
          0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00  ACK 0x00 
    ...

Writing registers for initialization (simple 25MHz output on CLK0 -- doesn't work yet...):

    [0xC0 3 0xFF]
    [0xC0 16 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80]
    [0xC0 2 0x18]
    [0xC0 15 0x00]
    [0xC0 16 0x4f 0x80 0x80 0x80 0x80 0x80 0xc0 0x80 0x00 0x00 0x00 0x01 0x00 0x0c 0x00 0x00]
    [0xC0 32 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x00 0x0c 0x00 0x00]
    [0xC0 48 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00]
    [0xC0 64 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00]
    [0xC0 80 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00]
    [0xC0 149 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00]
    [0xC0 160 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00]
    [0xC0 177 0xAC]
    
    [0xC0 3 0x00]
